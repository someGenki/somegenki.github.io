var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o;import{c as i,a as s,u as r,h as l,b as c,E as d,d as m,p,e as u,r as h,f as _,g,o as f,i as b,j as E,k as w,w as x,l as y,v as P,m as v,n as I,q as V,s as L,t as T,x as R,y as A,z as D,A as O,B as j,C as S,D as k,F as M,G as q,H as F,R as C,I as N}from"./vendor.1e478acf.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const U=i();function W(){return s.get("ADMIN-TOKEN")}function H(){return s.remove("ADMIN-TOKEN")}function K(e,t){e.forEach((e=>{!function(e,t){localStorage.setItem("YUAN-"+e,t)}(e,t[e])}))}function z(e,t,n=null){let o=localStorage.getItem("YUAN-"+e);return"int"===t?(o=Number.parseInt(o),Number.isInteger(o)?o:n):"bool"===t?(o=JSON.parse(o),!0===o||!1===o?o:n):o}const B={},$=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in B)return;B[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},G=()=>$((()=>import("./index.268fa9de.js")),["assets/index.268fa9de.js","assets/index.2a10d66c.css","assets/vendor.1e478acf.js","assets/dio.e8119c58.js"]),Y={name:"Redirect",setup(){const{currentRoute:e,replace:t}=r(),{params:{path:n},query:o}=e.value;return t({path:"/"+(Array.isArray(n)?n.join("/"):n),query:o}),()=>l("div")}};c.defaults.timeout=5e3,c.defaults.baseURL="/api",c.interceptors.request.use((e=>{let t=W();return t&&(e.headers.token=t),e})),c.interceptors.response.use((e=>Promise.resolve(e.data)),(e=>{var t,n;return d({message:(null==(n=null==(t=e.response)?void 0:t.data)?void 0:n.msg)||"undefined"}),Promise.reject(e.response)}));var J=[{path:"/test",redirect:"/test/test1",component:G,hidden:!0,children:[{path:"test1",name:"Test1",component:()=>$((()=>import("./test1.86f19838.js")),["assets/test1.86f19838.js","assets/vendor.1e478acf.js"]),meta:{title:"测试-1"}}]},{path:"/permission",redirect:"/permission/page",component:G,meta:{title:"权限页面",roles:["admin","editor","test"]},children:[{path:"page",component:()=>$((()=>import("./page.701330b8.js")),["assets/page.701330b8.js","assets/vendor.1e478acf.js"]),name:"PagePermission",meta:{title:"权限-页面",roles:["admin"]}},{path:"test",component:()=>$((()=>import("./test.d8e5d4a2.js")),["assets/test.d8e5d4a2.js","assets/vendor.1e478acf.js"]),name:"TestPermission",meta:{title:"权限-测试",roles:["admin","test"]}}]},{path:"/nested",component:G,redirect:"/nested/menu1/menu1-1",name:"Nested",meta:{title:"嵌套路由"},children:[{path:"menu1",component:()=>$((()=>import("./index.a12fc470.js")),["assets/index.a12fc470.js","assets/vendor.1e478acf.js"]),name:"Menu1",meta:{title:"Menu 1"},redirect:"/nested/menu1/menu1-1",children:[{path:"menu1-1",component:()=>$((()=>import("./index.66d59eb5.js")),["assets/index.66d59eb5.js","assets/vendor.1e478acf.js"]),name:"Menu1-1",meta:{title:"Menu 1-1"}},{path:"menu1-2",component:()=>$((()=>import("./index.57541bf5.js")),["assets/index.57541bf5.js","assets/vendor.1e478acf.js"]),name:"Menu1-2",redirect:"/nested/menu1/menu1-2/menu1-2-1",meta:{title:"Menu 1-2"},children:[{path:"menu1-2-1",component:()=>$((()=>import("./index.6bac7522.js")),["assets/index.6bac7522.js","assets/vendor.1e478acf.js"]),name:"Menu1-2-1",meta:{title:"Menu 1-2-1"}},{path:"menu1-2-2",component:()=>$((()=>import("./index.3923de56.js")),["assets/index.3923de56.js","assets/vendor.1e478acf.js"]),name:"Menu1-2-2",meta:{title:"Menu 1-2-2"}}]},{path:"menu1-3",component:()=>$((()=>import("./index.8e43cd93.js")),["assets/index.8e43cd93.js","assets/vendor.1e478acf.js"]),name:"Menu1-3",meta:{title:"Menu 1-3"}}]},{path:"menu2",name:"Menu2",component:()=>$((()=>import("./index.563b5a8f.js")),["assets/index.563b5a8f.js","assets/vendor.1e478acf.js"]),meta:{title:"Menu 2"}}]},{path:"/:catchAll(.*)*",name:"NotFound",hidden:!0,component:()=>$((()=>import("./404.47de5480.js")),["assets/404.47de5480.js","assets/vendor.1e478acf.js"])},{path:"/ex-link",children:[{path:"https://github.com/someGenki",name:"ex-link-github",meta:{title:"Github"}}]},{path:"/about",redirect:"/about/index",component:G,children:[{path:"index",name:"about",component:()=>$((()=>import("./index.5c7d84a8.js")),["assets/index.5c7d84a8.js","assets/index.59bad6cd.css","assets/vendor.1e478acf.js"]),meta:{title:"关于",icon:"el-icon-place"}}]}];const X=m("user",{state:()=>({token:W(),name:"",avatar:"",roles:[],addRoutes:[]}),getters:{hasUserInfo:e=>e.roles&&e.roles.length>0},actions:{async login({username:e,password:t}){console.log("登录中...",e,t);const n=await(o={username:e,password:t},c.post("/user/login",o));var o,a;this.token=n.data.token,this.roles.push(...n.data.roles),this.name=n.data.name||"Yuan",this.addRoutes=this.generateRoutes(),a=n.data.token,s.set("ADMIN-TOKEN",a)},async getUserInfo(){console.log("获取用户信息中...");const e=await c.get("/user/info",t);var t;this.roles.push(...e.data.roles),this.addRoutes=this.generateRoutes()},generateRoutes(){const e=this.roles.includes("admin")?J||[]:Q(J,this.roles);return e.forEach((e=>fe.addRoute(e))),ue.concat(e)}}});function Q(e,i){const s=[];return e.forEach((e=>{const r=((e,i)=>{for(var s in i||(i={}))n.call(i,s)&&a(e,s,i[s]);if(t)for(var s of t(i))o.call(i,s)&&a(e,s,i[s]);return e})({},e);(function(e,t){return!t.meta||!t.meta.roles||e.some((e=>t.meta.roles.includes(e)))})(i,r)&&(r.children&&(r.children=Q(r.children,i)),s.push(r))})),s}function Z(e=!1){let t=h(e);return[t,e=>{t.value=void 0!==e&&"boolean"==typeof e?e:!t.value}]}const ee={name:"login",setup(){const e=r(),[t,n]=Z(),[o,a]=Z(),i=h(null),s=_({username:"admin",password:"123456",code:"aaaa"});return{loginRules:{username:[{required:!0,message:"用户名不能为空"}],password:[{required:!0,message:"密码不能为空"}]},loginFormRef:i,loginFormData:s,showPassword:t,toggleShowPasswd:n,btnLoading:o,toggleBtnLoading:a,handleLogin:()=>{i.value.validate((t=>{if(!t)return console.error("login fail in handleLogin"),!1;a(!0),X().login(s).then((()=>new Promise((e=>setTimeout((()=>e()),100))))).then((()=>{e.push({path:e.currentRoute.value.query.redirect||"/"}),d.success({duration:1e3,type:"success",message:"登录成功!"})})).finally((()=>a(!1)))}))}}}};p("data-v-3034e685");const te={class:"admin-login"},ne={class:"login-container"},oe=E("div",{class:"login-left"},[E("h1",null,"准备摆个LOGO"),E("h2",null,"其次是个图片，跟vben类似")],-1),ae={class:"login-right"},ie=E("h1",{style:{"margin-left":"4px","text-align":"left"}},"登录",-1),se=E("p",null,"这在个地方说点什么东西吧",-1),re=["type"],le=E("img",{style:{width:"120px",height:"42px"},src:"http://www.webxml.com.cn/WebServices/ValidateCodeWebService.asmx/cnValidateImage?byString=aaaa",alt:"验证码"},null,-1),ce=L("登录 "),de=E("div",{class:"login-footer"}," Powered by 禾几元",-1);u(),ee.render=function(e,t,n,o,a,i){const s=g("el-form-item"),r=g("el-button"),l=g("el-form");return f(),b("div",te,[E("div",ne,[oe,E("div",ae,[w(l,{model:o.loginFormData,rules:o.loginRules,ref:"loginFormRef",class:"login-form"},{default:x((()=>[ie,se,w(s,{required:"",size:"small",prop:"username"},{default:x((()=>[y(E("input",{required:"",name:"username",class:"login-input","onUpdate:modelValue":t[0]||(t[0]=e=>o.loginFormData.username=e),placeholder:"用户名/邮箱"},null,512),[[P,o.loginFormData.username]])])),_:1}),w(s,{required:"",prop:"password"},{default:x((()=>[y(E("input",{required:"",name:"password",class:"login-input",type:o.showPassword?"":"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.loginFormData.password=e),placeholder:"请输入密码"},null,8,re),[[v,o.loginFormData.password]]),E("i",{onClick:t[2]||(t[2]=(...e)=>o.toggleShowPasswd&&o.toggleShowPasswd(...e)),class:I([{slash:o.showPassword},"el-icon-view password-see"])},null,2)])),_:1}),w(s,{class:"form-captcha"},{default:x((()=>[y(E("input",{placeholder:"验证码",name:"code",class:"login-input",style:{width:"60%",height:"44px","margin-right":"10px"},type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>o.loginFormData.code=e)},null,512),[[P,o.loginFormData.code]]),le])),_:1}),w(r,{onClick:V(o.handleLogin,["prevent"]),loading:o.btnLoading,style:{width:"100%"},type:"primary"},{default:x((()=>[ce])),_:1},8,["onClick","loading"])])),_:1},8,["model","rules"])]),de])])},ee.__scopeId="data-v-3034e685";const me=[{path:"/redirect",component:G,redirect:"/",hidden:!0,children:[{path:"/redirect/:path(.*)",name:"redirect",component:Y,meta:{noCache:!0}}]},{path:"/login",hidden:!0,component:ee,meta:{noCache:!0,title:"Vue Lite Admin 登录页"}},{path:"/404",component:()=>$((()=>import("./404.47de5480.js")),["assets/404.47de5480.js","assets/vendor.1e478acf.js"]),hidden:!0},{path:"/401",component:()=>$((()=>import("./401.c5e81f30.js")),["assets/401.c5e81f30.js","assets/vendor.1e478acf.js"]),hidden:!0}];function pe(e){let t="/"+/\/(.*)\//.exec(e.defaultPath)[1],n=Array.isArray(e.children)?e.children:[].concat(e.children);return{path:t,meta:e.meta,hidden:e.hidden,redirect:e.defaultPath,component:G,children:n}}var ue=[...me,{path:"/",redirect:"/dashboard",component:G,children:[{path:"/dashboard",name:"Dashboard",component:()=>$((()=>import("./index.f39c6274.js")),["assets/index.f39c6274.js","assets/index.f8f3ef26.css","assets/vendor.1e478acf.js","assets/dio.e8119c58.js"]),meta:{title:"首页",icon:"el-icon-s-home"}}]},pe({defaultPath:"/icons/index",children:{path:"index",name:"Icons",component:()=>$((()=>import("./index.f81b179a.js")),["assets/index.f81b179a.js","assets/index.30fe16bc.css","assets/vendor.1e478acf.js"]),meta:{title:"图标展示",icon:"el-icon-shopping-cart-full"}}}),pe({defaultPath:"/profile/index",children:{path:"index",name:"Profile",component:()=>$((()=>import("./index.86496368.js")),["assets/index.86496368.js","assets/index.74f1dc4a.css","assets/dio.e8119c58.js","assets/vendor.1e478acf.js"]),meta:{title:"个人中心"}}}),{path:"/example",component:G,redirect:"/example/file-upload",meta:{title:"功能示例",icon:"el-icon-copy-document"},children:[{path:"file-upload",component:()=>$((()=>import("./index.73fb15c7.js")),["assets/index.73fb15c7.js","assets/index.aaa19868.css","assets/vendor.1e478acf.js"]),name:"FileUpload",meta:{title:"文件上传",icon:"el-icon-upload2"}},{path:"file-download",component:()=>$((()=>import("./index.433bcc49.js")),["assets/index.433bcc49.js","assets/index.81b200f6.css","assets/vendor.1e478acf.js"]),name:"FileDownload",meta:{title:"文件下载",icon:"el-icon-download"}},{path:"emotion-demo",component:()=>$((()=>import("./index.436b6c35.js")),["assets/index.436b6c35.js","assets/index.ff81e38c.css","assets/vendor.1e478acf.js"]),name:"EmotionDemo",meta:{title:"输入框表情",icon:"el-icon-box"}},{path:"compare-demo",component:()=>$((()=>import("./index.a1978aac.js")),["assets/index.a1978aac.js","assets/index.d3f48f3a.css","assets/dio.e8119c58.js","assets/vendor.1e478acf.js"]),name:"CompareDemo",meta:{title:"图片对比",icon:"el-icon-picture-outline"}},{path:"text-editor",component:()=>$((()=>import("./building.e76f472e.js")),["assets/building.e76f472e.js","assets/vendor.1e478acf.js"]),name:"TextEditor",meta:{title:"文本编辑器",icon:"el-icon-edit"}},{path:"image-cropper",component:()=>$((()=>import("./building.e76f472e.js")),["assets/building.e76f472e.js","assets/vendor.1e478acf.js"]),name:"ImageCropper",meta:{title:"图片裁剪",icon:"el-icon-picture-outline-round"}},{path:"silk-ribbon",component:()=>$((()=>import("./building.e76f472e.js")),["assets/building.e76f472e.js","assets/vendor.1e478acf.js"]),name:"SilkRibbon",meta:{title:"缎带组件",icon:"el-icon-collection-tag"}}]},{path:"/example-page",component:G,redirect:"/example-page/404",meta:{title:"页面示例",icon:"el-icon-document"},children:[{path:"404",component:()=>$((()=>import("./404.47de5480.js")),["assets/404.47de5480.js","assets/vendor.1e478acf.js"]),name:"404",meta:{title:"404页面",icon:"el-icon-close"}},{path:"401",component:()=>$((()=>import("./401.c5e81f30.js")),["assets/401.c5e81f30.js","assets/vendor.1e478acf.js"]),name:"401",meta:{title:"401页面",icon:"el-icon-close"}},{path:"scroll-page",component:()=>$((()=>import("./scroll-page.70c67ed3.js")),["assets/scroll-page.70c67ed3.js","assets/vendor.1e478acf.js"]),name:"ScrollPage",meta:{title:"滚动页面",icon:"el-icon-d-caret"}},{path:"example-table",name:"ExampleTable",component:()=>$((()=>import("./building.e76f472e.js")),["assets/building.e76f472e.js","assets/vendor.1e478acf.js"]),meta:{title:"表格 Table",icon:"el-icon-date"}},{path:"example-echarts",name:"ExampleEcharts",component:()=>$((()=>import("./building.e76f472e.js")),["assets/building.e76f472e.js","assets/vendor.1e478acf.js"]),meta:{title:"图表 Echarts",icon:"el-icon-pie-chart"}},{path:"example-drag",name:"ExampleDrag",component:()=>$((()=>import("./building.e76f472e.js")),["assets/building.e76f472e.js","assets/vendor.1e478acf.js"]),meta:{title:"拖拽 Drag",icon:"el-icon-thumb"}},{path:"online-chat",name:"OnlineChat",component:()=>$((()=>import("./building.e76f472e.js")),["assets/building.e76f472e.js","assets/vendor.1e478acf.js"]),meta:{title:"即时通讯聊天",icon:"el-icon-microphone"}}]}];const he=["/login"],_e=m("layout",{state:()=>({sUnfoldWidth:z("sUnfoldWidth","int",190),unfoldSidebar:z("unfoldSidebar","bool",!0),menuAccordion:z("menuAccordion","bool",!0),fixedHeader:z("fixedHeader","bool",!1),showTabBar:z("showTabBar","bool",!0),showLogo:z("showLogo","bool",!0),showSettings:!1,sCollapseWidth:64,isMobile:document.body.clientWidth<768,breadcrumbList:[],visitedViews:[],cachedViews:[]}),getters:{sidebarWidth:e=>!0===e.unfoldSidebar?e.sUnfoldWidth+"px":(e.isMobile?0:e.sCollapseWidth)+"px",mainPaddingTopOnFixed:e=>e.fixedHeader?e.fixedHeader&&e.showTabBar?"76px":"42px":"0",mainPaddingLeft(e){return e.isMobile?0:this.sidebarWidth}},actions:{toggleSidebar(e){this.unfoldSidebar=void 0!==e?e:!this.unfoldSidebar},toggleSettings(e){this.showSettings=void 0!==e?e:!this.showSettings},checkIsMobile(){this.isMobile=document.body.clientWidth<768},accessRecord(e){const t=e.matched.filter((e=>e.meta&&e.meta.title));this.breadcrumbList.length=0,this.breadcrumbList.push(...t),this.addVisitedView(e),this.cachedVisitedView(e)},addVisitedView(e){!e.meta.title||this.visitedViews.some((t=>t.path===e.path))||he.some((t=>e.path.includes(t)))||this.visitedViews.push({name:e.name,path:e.path,query:e.query,title:e.meta.title,fullPath:e.fullPath})},cachedVisitedView(e){!e.name||e.meta.noCache||this.cachedViews.includes(e.name)||this.cachedViews.push(e.name)},removeCachedView(e){const t=this.cachedViews.indexOf(e.name);t>-1&&this.cachedViews.splice(t,1)}}}),ge=new Set;me.forEach((e=>ge.add(e.path)));const fe=T({history:R("/"),routes:ue,strict:!0});fe.beforeEach((async e=>{if(!W()&&!ge.has(e.path))return{path:"/login",query:{redirect:e.fullPath}};const t=X();return!1===t.hasUserInfo?(await t.getUserInfo(),e):void 0})),fe.afterEach((e=>{document.title=e.meta.title||"Vue Admin Prod",_e().accessRecord(e)}));const be={name:"AppIcon",props:{icon:{type:String,required:!0},color:{type:String},size:{default:16}},setup(e){const{icon:t,color:n,size:o}=e,a=o+"px";if(t.startsWith("el-"))return()=>l("i",{class:t+" app-icon",style:{fontSize:a,color:n}});{const e={width:a,height:a};return n&&(e.color=n,e.fill="currentColor"),()=>l("i",null,l("svg",{style:e,class:"svg-icon app-icon"},l("use",{"xlink:href":"#icon-"+t})))}}},Ee={name:"AppLink",props:{to:{type:String,required:!0}},setup(e){let t=(n=e.to,/^(https?:|mailto:|tel:)/.test(n)?"a":"router-link");var n;return"a"===t?{type:t,linkProps:{href:e.to,target:"_blank"}}:{linkProps:{to:e.to},type:t}}};Ee.render=function(e,t,n,o,a,i){return f(),A(S(e.type),O(j(e.linkProps)),{default:x((()=>[D(e.$slots,"default")])),_:3},16)};const we={name:"AppExplain",props:{title:{type:String,required:!0},remark:{type:String},background:{type:String,default:"#FFFFFF"}}},xe=()=>{k((e=>({"30dd56cd":e.background})))},ye=we.setup;we.setup=ye?(e,t)=>(xe(),ye(e,t)):xe;const Pe=we;p("data-v-28e84d88");const ve={class:"app-explain"},Ie={class:"app-explain__title"},Ve={class:"app-explain__remark"};u(),Pe.render=function(e,t,n,o,a,i){return f(),b("div",ve,[E("h2",Ie,M(n.title),1),E("div",Ve,[D(e.$slots,"default",{},void 0,!0)])])},Pe.__scopeId="data-v-28e84d88";const Le=200,Te=1e3,Re="操作成功",Ae="操作失败";class De{static succ(e){return{code:Le,msg:Re,data:e}}static fail(e,t=Te,n=Ae){return{data:e,code:t,msg:n}}}var Oe=[{url:"/api/test01",method:"get",response:({query:e})=>({code:0,data:{name:"jojo1",query:e}})},{url:"/api/user/login",method:"post",response:De.succ({name:"jojo",token:"THIS_IS_TOKEN",roles:["admin"]})},{url:"/api/user/info",method:"get",response:De.succ({name:"jojo",token:"THIS_IS_TOKEN",roles:["admin"]})},{url:"/api/demo/download1",method:"get",rawResponse:async(e,t)=>{await new Promise((e=>setTimeout((()=>e()),500))),t.setHeader("Content-Type","application/octet-stream;charset=utf-8"),t.setHeader("Content-Disposition","attachment;filename=jojo.txt"),t.write("TEXT"),t.end()}}];const je=F({render:()=>l(C)});je.use(U),je.use(fe).use(N),je.component("app-icon",be),je.component("app-link",Ee),je.component("app-explain",Pe),je.mount("#app"),q([...Oe]);export{X as a,H as b,K as c,fe as r,_e as u};

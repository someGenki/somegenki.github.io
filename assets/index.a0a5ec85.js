import{r as f,g as _,o as a,v as W,w as v,j as d,B as k,i as c,P as w,Q as b,A as T,C as H,l as L,S as z,p as j,m as M,X as $,U as S,I as y,k as h}from"./vendor.b1f6bb4d.js";import{_ as B}from"./index.726383d1.js";var C={weChatList:["\u5FAE\u7B11","\u6487\u5634","\u8272","\u53D1\u5446","\u5F97\u610F","\u6D41\u6CEA","\u5BB3\u7F9E","\u95ED\u5634","\u7761","\u5927\u54ED","\u5C34\u5C2C","\u53D1\u6012","\u8C03\u76AE","\u5472\u7259","\u60CA\u8BB6","\u96BE\u8FC7","\u9177","\u51B7\u6C57","\u6293\u72C2","\u5410","\u5077\u7B11","\u53EF\u7231","\u767D\u773C","\u50B2\u6162","\u9965\u997F","\u56F0","\u60CA\u6050","\u6D41\u6C57","\u61A8\u7B11","\u5927\u5175","\u594B\u6597","\u5492\u9A82","\u7591\u95EE","\u5618","\u6655","\u6298\u78E8","\u8870","\u9AB7\u9AC5","\u6572\u6253","\u518D\u89C1","\u64E6\u6C57","\u62A0\u9F3B","\u9F13\u638C","\u7CD7\u5927\u4E86","\u574F\u7B11","\u5DE6\u54FC\u54FC","\u53F3\u54FC\u54FC","\u54C8\u6B20","\u9119\u89C6","\u59D4\u5C48","\u5FEB\u54ED\u4E86","\u9634\u9669","\u4EB2\u4EB2","\u5413","\u53EF\u601C","\u83DC\u5200","\u897F\u74DC","\u5564\u9152","\u7BEE\u7403","\u4E52\u4E53","\u5496\u5561","\u996D","\u732A\u5934","\u73AB\u7470","\u51CB\u8C22","\u793A\u7231","\u7231\u5FC3","\u5FC3\u788E","\u86CB\u7CD5","\u95EA\u7535","\u70B8\u5F39","\u5200","\u8DB3\u7403","\u74E2\u866B","\u4FBF\u4FBF","\u6708\u4EAE","\u592A\u9633","\u793C\u7269","\u62E5\u62B1","\u5F3A","\u5F31","\u63E1\u624B","\u80DC\u5229","\u62B1\u62F3","\u52FE\u5F15","\u62F3\u5934","\u5DEE\u52B2","\u7231\u4F60","\u4E0D","\u597D","\u7231\u60C5","\u98DE\u543B","\u8DF3\u8DF3","\u53D1\u6296","\u6004\u706B","\u8F6C\u5708","\u78D5\u5934","\u56DE\u5934","\u8DF3\u7EF3","\u6325\u624B","\u6FC0\u52A8","\u8857\u821E","\u732E\u543B","\u5DE6\u592A\u6781"],kaomojiList:["\uFF08\uFF1D\u3002\uFF1D\uFF09","(\u30FC\u30FC\u309B)","(\u2299\uFE4F\u2299)","(\u30CE\u3078\uFFE3\u3001)","(#`O\u2032)","(\xB0\u30FC\xB0\u3003)","(\u30FC`\xB4\u30FC)","(#`O\u2032)","(\uFF20_\uFF20;)","w(\uFF9F\u0414\uFF9F)w","(\uFFE3_,\uFFE3 )","\u51F8(\u8279\u76BF\u8279 )","(*\uFFE3r\u01D2\uFFE3)","\uFE3F(\uFFE3\uFE36\uFFE3)\uFE3F","\u266A(^\u2207^*)","o(\u2267\u53E3\u2266)o","(o_ _)\uFF89","\u30FD(\u273F\uFF9F\u25BD\uFF9F)\u30CE","\u03C6(\u2267\u03C9\u2266*)\u266A","(u\u203F\u0E3Au\u273F\u0E3A)","\uFF08\u25CB\uFF40 3\u2032\u25CB\uFF09","\u25CB|\uFFE3|_ =3","o(\uFFE3\u30D8\uFFE3o\uFF03)","o(\u4E00\uFE3F\u4E00+)o"]};function I(t){return t.replace(/\[[\u4E00-\u9FA5]{1,3}\]/gi,o=>{let i=o.replace(/\[|\]/gi,""),n=C.weChatList.indexOf(i);return n!==-1?`<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/${n}.gif">`:o})}function E(t){return t==="wechat"?C.weChatList.map((o,i)=>({name:`[${o}]`,url:`<img title="${o}" src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/${i}.gif">`})):t==="kaomoji"?C.kaomojiList:null}const R={name:"EmotionBox",props:["position"],emits:["emotion-add"],setup(){let t=f("wechat"),o=E("wechat"),i=E("kaomoji");return{wechatList:o,kaomojiList:i,current:t,emotions:[{key:"wechat",name:"\u5FAE\u4FE1\u8868\u60C5"},{key:"kaomoji",name:"\u989C\u6587\u5B57"}]}}},P=t=>(j("data-v-1662d5ea"),t=t(),M(),t),V=P(()=>d("span",{class:"emotion-box__open-btn"},"\u8868\u60C5",-1)),q={class:"emotion-box__wrapper"},A={key:0,class:"emotion-box__container"},N=["innerHTML","onClick"],O={key:1,class:"emotion-box__container"},D=["innerHTML","onClick"],F={class:"emotion-box__tabs"},U=["textContent","onClick"];function X(t,o,i,n,r,x){const m=_("el-popover");return a(),W(m,{width:250,"popper-class":"emotion-box"},{reference:v(()=>[d("span",null,[k(t.$slots,"default",{},()=>[V],!0)])]),default:v(()=>[d("div",q,[n.current==="wechat"?(a(),c("div",A,[(a(!0),c(w,null,b(n.wechatList,(s,l)=>(a(),c("span",{key:"w:"+l,class:"emotion-box__item",innerHTML:s.url,onClick:u=>t.$emit("emotion-add",s.name)},null,8,N))),128))])):n.current==="kaomoji"?(a(),c("div",O,[(a(!0),c(w,null,b(n.kaomojiList,(s,l)=>(a(),c("span",{innerHTML:s,key:"k:"+l,class:"emotion-box__item",onClick:u=>t.$emit("emotion-add",s)},null,8,D))),128))])):T("",!0),d("div",F,[(a(!0),c(w,null,b(n.emotions,s=>(a(),c("span",{key:s.key,textContent:H(s.name),onClick:L(l=>n.current=s.key,["stop"]),class:z(n.current===s.key?"emotion-box__tabs--active":"")},null,10,U))),128))])])]),_:3})}var Q=B(R,[["render",X],["__scopeId","data-v-1662d5ea"]]);const Y={name:"ResizeBox",props:{minWidth:{type:String,default:"10%"},padding:{type:String,default:"8px"},direction:{type:String,default:"horizontal"},contentPosition:{type:String,default:"center"},lineColor:{type:String,default:"white"}},emits:[],setup(t){const o=f(null),i=f(null),n=f(null),r={},{contentPosition:x,direction:m}=$(t),s=S(()=>x.value==="left"?3:x.value==="right"?1:2);let l;const u=e=>{e.stopPropagation(),e.changedTouches&&(e=e.changedTouches[0]),l?i.value.style.width=e.pageX-r.left+"px":i.value.style.height=e.pageY-r.top+"px"},p=()=>{const e=o.value;e.style.cursor=e.style.userSelect=null,e.style.width=r.styleWidth,e.style.height=r.styleHeight,e.removeEventListener("mousemove",u),e.removeEventListener("touchmove",u),document.removeEventListener("mouseup",p),document.removeEventListener("touchend",p)};return{resizeBox:o,leftBox:i,rbLine:n,positionRatio:s,resizeBoxWidth:()=>{const e=o.value;l=m.value==="horizontal",l?(r.left=e.getBoundingClientRect().left+document.documentElement.scrollLeft,r.styleWidth=e.style.width,e.style.width=e.offsetWidth+"px"):(r.top=e.getBoundingClientRect().top+document.documentElement.scrollTop,r.styleHeight=e.style.height,e.style.height=e.offsetHeight+"px"),e.style.userSelect="none",e.style.cursor=l?"w-resize":"n-resize",e.addEventListener("mousemove",u),e.addEventListener("touchmove",u,{passive:!0}),document.addEventListener("mouseup",p),document.addEventListener("touchend",p)}}}};function G(t,o,i,n,r,x){const m=_("app-icon");return a(),c("div",{ref:"resizeBox",class:z(["resize-box","resize-box--"+i.direction])},[d("div",{class:"resize-box__left",style:y({minWidth:i.minWidth,padding:i.padding}),ref:"leftBox"},[k(t.$slots,"left",{},void 0,!0)],4),d("div",{class:z(["resize-box__line","line--"+i.direction]),onMousedownPassive:o[0]||(o[0]=L((...s)=>n.resizeBoxWidth&&n.resizeBoxWidth(...s),["stop"])),onTouchstartPassive:o[1]||(o[1]=L((...s)=>n.resizeBoxWidth&&n.resizeBoxWidth(...s),["stop"])),ref:"rbLine"},[d("div",{style:y([{flex:"2"},{backgroundColor:i.lineColor}])},null,4),k(t.$slots,"line",{},()=>[h(m,{icon:"el-icon-right"})],!0),d("div",{style:y({backgroundColor:i.lineColor,flex:n.positionRatio})},null,4)],34),d("div",{class:"resize-box__right",style:y({minWidth:i.minWidth,padding:i.padding})},[k(t.$slots,"right",{},void 0,!0)],4)],2)}var J=B(Y,[["render",G],["__scopeId","data-v-5646033e"]]);const K={name:"EmotionDemo",components:{EmotionBox:Q,ResizeBox:J},setup(){const t=f(""),o=S(()=>I(t.value));return{text1:t,processText:o}}},Z=d("p",null,"\u5728\u5DE6\u4FA7\u8F93\u5165\u6846\u8F93\u5165\u6807\u7B7E\uFF0C\u53F3\u4FA7\u5B9E\u65F6\u5C06\u5FAE\u4FE1\u6E32\u67D3\u6210img\u6807\u7B7E ",-1),ee=["innerHTML"];function te(t,o,i,n,r,x){const m=_("app-explain"),s=_("el-input"),l=_("emotion-box"),u=_("app-icon"),p=_("resize-box");return a(),c(w,null,[h(m,{title:"\u56FE\u7247\u8F93\u5165\u6846"},{default:v(()=>[Z]),_:1}),h(p,null,{left:v(()=>[h(s,{type:"textarea",rows:4,placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",modelValue:n.text1,"onUpdate:modelValue":o[0]||(o[0]=g=>n.text1=g)},null,8,["modelValue"]),h(l,{onEmotionAdd:o[1]||(o[1]=g=>n.text1+=g)})]),right:v(()=>[d("div",{innerHTML:n.processText},null,8,ee)]),line:v(()=>[h(u,{icon:"el-icon-right"})]),_:1})],64)}var ie=B(K,[["render",te]]);export{ie as default};

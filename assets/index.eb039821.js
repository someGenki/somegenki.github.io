var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,i=(e,i)=>{for(var s in i||(i={}))n.call(i,s)&&a(e,s,i[s]);if(t)for(var s of t(i))o.call(i,s)&&a(e,s,i[s]);return e};import{a as s,u as r,h as l,b as c,E as d,d as p,r as m,c as u,e as h,p as _,f,g,i as b,o as E,j as w,k as x,l as y,w as P,m as v,v as I,n as T,q as V,s as R,t as A,x as O,y as L,z as j,A as D,B as S,C as k,D as M,F as q,G as N,H as C,I as F,J as U,R as W,K as H}from"./vendor.98f7b7d7.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function K(){return s.get("ADMIN-TOKEN")}function z(){return s.remove("ADMIN-TOKEN")}function B(e,t){e.forEach((e=>{!function(e,t){localStorage.setItem("YUAN-"+e,t)}(e,t[e])}))}function $(e,t,n=null){let o=localStorage.getItem("YUAN-"+e);return"int"===t?(o=Number.parseInt(o),Number.isInteger(o)?o:n):"bool"===t?(o=JSON.parse(o),!0===o||!1===o?o:n):o}const G={},Y=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in G)return;G[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},J=()=>Y((()=>import("./index.89b8a201.js")),["assets/index.89b8a201.js","assets/index.5830e227.css","assets/vendor.98f7b7d7.js","assets/dio.e8119c58.js"]),X={name:"Redirect",setup(){const{currentRoute:e,replace:t}=r(),{params:n,query:o}=e.value,{path:a}=n;return t({path:"/"+(Array.isArray(a)?a.join("/"):a),query:o}),()=>l("div")}};c.defaults.timeout=5e3,c.defaults.baseURL="/api",c.interceptors.request.use((e=>{let t=K();return t&&(e.headers.token=t),e})),c.interceptors.response.use((e=>Promise.resolve(e.data)),(e=>{var t,n;return d({message:(null==(n=null==(t=e.response)?void 0:t.data)?void 0:n.msg)||"undefined"}),Promise.reject(e.response)}));var Q=[{path:"/test",redirect:"/test/test1",component:J,hidden:!0,children:[{path:"test1",name:"Test1",component:()=>Y((()=>import("./test1.0de2b771.js")),["assets/test1.0de2b771.js","assets/vendor.98f7b7d7.js"]),meta:{title:"测试-1"}}]},{path:"/permission",redirect:"/permission/page",component:J,meta:{title:"权限页面",roles:["admin","editor","test"]},children:[{path:"page",component:()=>Y((()=>import("./page.3f5ac067.js")),["assets/page.3f5ac067.js","assets/vendor.98f7b7d7.js"]),name:"PagePermission",meta:{title:"权限-页面",roles:["admin"]}},{path:"test",component:()=>Y((()=>import("./test.98b6be30.js")),["assets/test.98b6be30.js","assets/vendor.98f7b7d7.js"]),name:"TestPermission",meta:{title:"权限-测试",roles:["admin","test"]}}]},{path:"/nested",component:J,redirect:"/nested/menu1/menu1-1",name:"Nested",meta:{title:"嵌套路由"},children:[{path:"menu1",component:()=>Y((()=>import("./index.dd487e96.js")),["assets/index.dd487e96.js","assets/vendor.98f7b7d7.js"]),name:"Menu1",meta:{title:"Menu 1"},redirect:"/nested/menu1/menu1-1",children:[{path:"menu1-1",component:()=>Y((()=>import("./index.35252ebd.js")),["assets/index.35252ebd.js","assets/vendor.98f7b7d7.js"]),name:"Menu1-1",meta:{title:"Menu 1-1"}},{path:"menu1-2",component:()=>Y((()=>import("./index.0f738464.js")),["assets/index.0f738464.js","assets/vendor.98f7b7d7.js"]),name:"Menu1-2",redirect:"/nested/menu1/menu1-2/menu1-2-1",meta:{title:"Menu 1-2"},children:[{path:"menu1-2-1",component:()=>Y((()=>import("./index.6c68d6d9.js")),["assets/index.6c68d6d9.js","assets/vendor.98f7b7d7.js"]),name:"Menu1-2-1",meta:{title:"Menu 1-2-1"}},{path:"menu1-2-2",component:()=>Y((()=>import("./index.379871d3.js")),["assets/index.379871d3.js","assets/vendor.98f7b7d7.js"]),name:"Menu1-2-2",meta:{title:"Menu 1-2-2"}}]},{path:"menu1-3",component:()=>Y((()=>import("./index.3e3c22c5.js")),["assets/index.3e3c22c5.js","assets/vendor.98f7b7d7.js"]),name:"Menu1-3",meta:{title:"Menu 1-3"}}]},{path:"menu2",name:"Menu2",component:()=>Y((()=>import("./index.ad59ea32.js")),["assets/index.ad59ea32.js","assets/vendor.98f7b7d7.js"]),meta:{title:"Menu 2"}}]},{path:"/:catchAll(.*)*",name:"NotFound",hidden:!0,component:()=>Y((()=>import("./404.93e82b62.js")),["assets/404.93e82b62.js","assets/vendor.98f7b7d7.js"])},{path:"/ex-link",children:[{path:"https://github.com/someGenki",name:"ex-link-github",meta:{title:"Github"}}]},{path:"/about",redirect:"/about/index",component:J,children:[{path:"index",name:"about",component:()=>Y((()=>import("./index.63cea0da.js")),["assets/index.63cea0da.js","assets/index.59bad6cd.css","assets/vendor.98f7b7d7.js"]),meta:{title:"关于",icon:"el-icon-place"}}]}];const Z=p("user",{state:()=>({token:K(),name:"",avatar:"",roles:[],addRoutes:[]}),getters:{hasUserInfo:e=>e.roles&&e.roles.length>0},actions:{async login({username:e,password:t}){console.log("登录中...",e,t);const n=await(o={username:e,password:t},c.post("/user/login",o));var o,a;this.token=n.data.token,this.roles.push(...n.data.roles),this.name=n.data.name||"Yuan",this.addRoutes=this.generateRoutes(),a=n.data.token,s.set("ADMIN-TOKEN",a)},async getUserInfo(){console.log("获取用户信息中...");const e=await c.get("/user/info",t);var t;this.roles.push(...e.data.roles),this.addRoutes=this.generateRoutes()},generateRoutes(){const e=this.roles.includes("admin")?Q||[]:ee(Q,this.roles);return e.forEach((e=>ye.addRoute(e))),be.concat(e)}}});function ee(e,t){const n=[];return e.forEach((e=>{const o=i({},e);(function(e,t){return!t.meta||!t.meta.roles||e.some((e=>t.meta.roles.includes(e)))})(t,o)&&(o.children&&(o.children=ee(o.children,t)),n.push(o))})),n}const te={username:[{required:!0,message:"用户名不能为空"}],password:[{required:!0,message:"密码不能为空"}]},ne=m({username:"admin",password:"123456"});let oe=u(null);const ae=h((()=>ne.username.length>0&&ne.password.length>0));function ie(){oe.value.validate((e=>{if(!e)return console.log("login fail because ",e),!1;Z().login(ne).then((()=>{ye.push({path:ye.currentRoute.value.query.redirect||"/"})}))}))}const se={name:"login",setup(){const e=u(g().query.page||"1"),t=u(!1);return i({pageNo:e,showPasswordToggle:function(){t.value=!t.value},showPassword:t,changeLoginStyle:()=>{"1"===e.value?e.value="2":e.value="1"}},{form:ne,loginRules:te,loginBtnEnable:ae,loginFormRef:oe,handleLogin:ie})}};_("data-v-56b580d8");const re={class:"admin-login"},le={class:"login-container"},ce=x("div",{class:"login-left"},[x("h1",null,"准备摆个LOGO"),x("h2",null,"其次是个图片，跟vben类似")],-1),de={class:"login-right"},pe=x("h1",{style:{"margin-left":"4px","text-align":"left"}},"登录",-1),me=x("p",null,"这在个地方说点什么东西吧",-1),ue=["type"],he=x("div",{style:{display:"flex","justify-content":"space-between","margin-bottom":"22px"}},[x("input",{placeholder:"验证码",class:"login-input",style:{width:"50%",height:"48px"},type:"text",value:"aaaa"}),x("img",{style:{width:"120px",height:"44px"},src:"http://www.webxml.com.cn/WebServices/ValidateCodeWebService.asmx/cnValidateImage?byString=aaaa",alt:"验证码"})],-1),_e=A("登录 ");f(),se.render=function(e,t,n,o,a,i){const s=b("el-form-item"),r=b("el-button"),l=b("el-form");return E(),w("div",re,[x("div",le,[ce,x("div",de,[y(l,{model:e.form,rules:e.loginRules,ref:"loginFormRef",class:"login-form"},{default:P((()=>[pe,me,y(s,{required:"",size:"small",prop:"username"},{default:P((()=>[v(x("input",{class:"login-input",required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),placeholder:"用户名/邮箱"},null,512),[[I,e.form.username]])])),_:1}),y(s,{required:"",prop:"password"},{default:P((()=>[v(x("input",{class:"login-input",type:o.showPassword?"":"password",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.password=t),placeholder:"请输入密码"},null,8,ue),[[T,e.form.password]]),x("i",{onClick:t[2]||(t[2]=(...e)=>o.showPasswordToggle&&o.showPasswordToggle(...e)),class:V([{slash:o.showPassword},"el-icon-view password-see"])},null,2)])),_:1}),he,y(r,{style:{width:"100%"},type:"primary",onClick:R(e.handleLogin,["prevent"])},{default:P((()=>[_e])),_:1},8,["onClick"])])),_:1},8,["model","rules"])])])])},se.__scopeId="data-v-56b580d8";const fe=[{path:"/redirect",component:J,redirect:"/",hidden:!0,children:[{path:"/redirect/:path(.*)",name:"redirect",component:X,meta:{noCache:!0}}]},{path:"/login",hidden:!0,component:se,meta:{noCache:!0,title:"Vue Admin 登录页"}},{path:"/404",component:()=>Y((()=>import("./404.93e82b62.js")),["assets/404.93e82b62.js","assets/vendor.98f7b7d7.js"]),hidden:!0},{path:"/401",component:()=>Y((()=>import("./401.14f9db2c.js")),["assets/401.14f9db2c.js","assets/vendor.98f7b7d7.js"]),hidden:!0}];function ge(e){let t="/"+/\/(.*)\//.exec(e.defaultPath)[1],n=Array.isArray(e.children)?e.children:[].concat(e.children);return{path:t,meta:e.meta,hidden:e.hidden,redirect:e.defaultPath,component:J,children:n}}var be=[...fe,{path:"/",redirect:"/dashboard",component:J,children:[{path:"/dashboard",name:"Dashboard",component:()=>Y((()=>import("./index.09c14b44.js")),["assets/index.09c14b44.js","assets/index.a27f12d7.css","assets/vendor.98f7b7d7.js","assets/dio.e8119c58.js"]),meta:{title:"首页",icon:"el-icon-s-home"}}]},ge({defaultPath:"/icons/index",children:{path:"index",name:"Icons",component:()=>Y((()=>import("./index.1a248642.js")),["assets/index.1a248642.js","assets/index.30fe16bc.css","assets/vendor.98f7b7d7.js"]),meta:{title:"图标展示",icon:"el-icon-shopping-cart-full"}}}),ge({defaultPath:"/profile/index",children:{path:"index",name:"Profile",component:()=>Y((()=>import("./index.25fb1fae.js")),["assets/index.25fb1fae.js","assets/index.74f1dc4a.css","assets/dio.e8119c58.js","assets/vendor.98f7b7d7.js"]),meta:{title:"个人中心"}}}),{path:"/example",component:J,redirect:"/example/file-upload",meta:{title:"功能示例",icon:"el-icon-copy-document"},children:[{path:"file-upload",component:()=>Y((()=>import("./index.2937399d.js")),["assets/index.2937399d.js","assets/index.aaa19868.css","assets/vendor.98f7b7d7.js"]),name:"FileUpload",meta:{title:"文件上传",icon:"el-icon-upload2"}},{path:"file-download",component:()=>Y((()=>import("./index.48f78a60.js")),["assets/index.48f78a60.js","assets/index.81b200f6.css","assets/vendor.98f7b7d7.js"]),name:"FileDownload",meta:{title:"文件下载",icon:"el-icon-download"}},{path:"emotion-demo",component:()=>Y((()=>import("./index.c8b98e47.js")),["assets/index.c8b98e47.js","assets/index.ff81e38c.css","assets/vendor.98f7b7d7.js"]),name:"EmotionDemo",meta:{title:"输入框表情",icon:"el-icon-box"}},{path:"compare-demo",component:()=>Y((()=>import("./index.9d410baf.js")),["assets/index.9d410baf.js","assets/index.d3f48f3a.css","assets/dio.e8119c58.js","assets/vendor.98f7b7d7.js"]),name:"CompareDemo",meta:{title:"图片对比",icon:"el-icon-picture-outline"}},{path:"text-editor",component:()=>Y((()=>import("./building.4e8406fb.js")),["assets/building.4e8406fb.js","assets/vendor.98f7b7d7.js"]),name:"TextEditor",meta:{title:"文本编辑器",icon:"el-icon-edit"}},{path:"image-cropper",component:()=>Y((()=>import("./building.4e8406fb.js")),["assets/building.4e8406fb.js","assets/vendor.98f7b7d7.js"]),name:"ImageCropper",meta:{title:"图片裁剪",icon:"el-icon-picture-outline-round"}},{path:"silk-ribbon",component:()=>Y((()=>import("./building.4e8406fb.js")),["assets/building.4e8406fb.js","assets/vendor.98f7b7d7.js"]),name:"SilkRibbon",meta:{title:"缎带组件",icon:"el-icon-collection-tag"}}]},{path:"/example-page",component:J,redirect:"/example-page/404",meta:{title:"页面示例",icon:"el-icon-document"},children:[{path:"404",component:()=>Y((()=>import("./404.93e82b62.js")),["assets/404.93e82b62.js","assets/vendor.98f7b7d7.js"]),name:"404",meta:{title:"404页面",icon:"el-icon-close"}},{path:"401",component:()=>Y((()=>import("./401.14f9db2c.js")),["assets/401.14f9db2c.js","assets/vendor.98f7b7d7.js"]),name:"401",meta:{title:"401页面",icon:"el-icon-close"}},{path:"scroll-page",component:()=>Y((()=>import("./scroll-page.efb283cf.js")),["assets/scroll-page.efb283cf.js","assets/vendor.98f7b7d7.js"]),name:"ScrollPage",meta:{title:"滚动页面",icon:"el-icon-d-caret"}},{path:"example-table",name:"ExampleTable",component:()=>Y((()=>import("./building.4e8406fb.js")),["assets/building.4e8406fb.js","assets/vendor.98f7b7d7.js"]),meta:{title:"表格 Table",icon:"el-icon-date"}},{path:"example-echarts",name:"ExampleEcharts",component:()=>Y((()=>import("./building.4e8406fb.js")),["assets/building.4e8406fb.js","assets/vendor.98f7b7d7.js"]),meta:{title:"图表 Echarts",icon:"el-icon-pie-chart"}},{path:"example-drag",name:"ExampleDrag",component:()=>Y((()=>import("./building.4e8406fb.js")),["assets/building.4e8406fb.js","assets/vendor.98f7b7d7.js"]),meta:{title:"拖拽 Drag",icon:"el-icon-thumb"}},{path:"online-chat",name:"OnlineChat",component:()=>Y((()=>import("./building.4e8406fb.js")),["assets/building.4e8406fb.js","assets/vendor.98f7b7d7.js"]),meta:{title:"即时通讯聊天",icon:"el-icon-microphone"}}]}];const Ee=["/login"],we=p("layout",{state:()=>({sUnfoldWidth:$("sUnfoldWidth","int",190),unfoldSidebar:$("unfoldSidebar","bool",!0),menuAccordion:$("menuAccordion","bool",!0),fixedHeader:$("fixedHeader","bool",!1),showTabBar:$("showTabBar","bool",!0),showLogo:$("showLogo","bool",!0),showSettings:!1,sCollapseWidth:64,isMobile:document.body.clientWidth<768,breadcrumbList:[],visitedViews:[],cachedViews:[]}),getters:{sidebarWidth:e=>!0===e.unfoldSidebar?e.sUnfoldWidth+"px":(e.isMobile?0:e.sCollapseWidth)+"px",mainPaddingTopOnFixed:e=>e.fixedHeader?e.fixedHeader&&e.showTabBar?"76px":"42px":"0",mainPaddingLeft(e){return e.isMobile?0:this.sidebarWidth}},actions:{toggleSidebar(e){this.unfoldSidebar=void 0!==e?e:!this.unfoldSidebar},toggleSettings(e){this.showSettings=void 0!==e?e:!this.showSettings},checkIsMobile(){this.isMobile=document.body.clientWidth<768},accessRecord(e){const t=e.matched.filter((e=>e.meta&&e.meta.title));this.breadcrumbList.length=0,this.breadcrumbList.push(...t),this.addVisitedView(e),this.cachedVisitedView(e)},addVisitedView(e){!e.meta.title||this.visitedViews.some((t=>t.path===e.path))||Ee.some((t=>e.path.includes(t)))||this.visitedViews.push({name:e.name,path:e.path,query:e.query,title:e.meta.title,fullPath:e.fullPath})},cachedVisitedView(e){!e.name||e.meta.noCache||this.cachedViews.includes(e.name)||this.cachedViews.push(e.name)},removeCachedView(e){const t=this.cachedViews.indexOf(e.name);t>-1&&this.cachedViews.splice(t,1)}}}),xe=new Set;fe.forEach((e=>xe.add(e.path)));const ye=O({history:L("/"),routes:be,strict:!0});ye.beforeEach((async e=>{if(!K()&&!xe.has(e.path))return{path:"/login",query:{redirect:e.fullPath}};const t=Z();return!1===t.hasUserInfo?(await t.getUserInfo(),e):void 0})),ye.afterEach((e=>{document.title=e.meta.title||"Vue Admin Prod",we().accessRecord(e)}));const Pe=j();const ve={name:"AppIcon",props:{icon:{type:String,required:!0},color:{type:String},size:{default:16}},setup(e){const{icon:t,color:n,size:o}=e,a=o+"px";if(t.startsWith("el-"))return()=>l("i",{class:t+" app-icon",style:{fontSize:a,color:n}});{const e={width:a,height:a};return n&&(e.color=n,e.fill="currentColor"),()=>l("i",null,l("svg",{style:e,class:"svg-icon app-icon"},l("use",{"xlink:href":"#icon-"+t})))}}},Ie={name:"AppLink",props:{to:{type:String,required:!0}},setup(e){let t=(n=e.to,/^(https?:|mailto:|tel:)/.test(n)?"a":"router-link");var n;return"a"===t?{type:t,linkProps:{href:e.to,target:"_blank"}}:{linkProps:{to:e.to},type:t}}};Ie.render=function(e,t,n,o,a,i){return E(),D(q(e.type),k(M(e.linkProps)),{default:P((()=>[S(e.$slots,"default")])),_:3},16)};const Te={name:"AppExplain",props:{title:{type:String,required:!0},remark:{type:String},background:{type:String,default:"#FFFFFF"}}},Ve=()=>{N((e=>({"30dd56cd":e.background})))},Re=Te.setup;Te.setup=Re?(e,t)=>(Ve(),Re(e,t)):Ve;const Ae=Te;_("data-v-28e84d88");const Oe={class:"app-explain"},Le={class:"app-explain__title"},je={class:"app-explain__remark"};f(),Ae.render=function(e,t,n,o,a,i){return E(),w("div",Oe,[x("h2",Le,C(n.title),1),x("div",je,[S(e.$slots,"default",{},void 0,!0)])])},Ae.__scopeId="data-v-28e84d88";const De=200,Se=1e3,ke="操作成功",Me="操作失败";class qe{static succ(e){return{code:De,msg:ke,data:e}}static fail(e,t=Se,n=Me){return{data:e,code:t,msg:n}}}var Ne=[{url:"/api/test01",method:"get",response:({query:e})=>({code:0,data:{name:"jojo1",query:e}})},{url:"/api/user/login",method:"post",response:qe.succ({name:"jojo",token:"THIS_IS_TOKEN",roles:["admin"]})},{url:"/api/user/info",method:"get",response:qe.succ({name:"jojo",token:"THIS_IS_TOKEN",roles:["admin"]})},{url:"/api/demo/download1",method:"get",rawResponse:async(e,t)=>{await new Promise((e=>setTimeout((()=>e()),500))),t.setHeader("Content-Type","application/octet-stream;charset=utf-8"),t.setHeader("Content-Disposition","attachment;filename=jojo.txt"),t.write("TEXT"),t.end()}}];const Ce=U({render:()=>l(W)});Ce.use(Pe),Ce.use(ye).use(H),Ce.component("app-icon",ve),Ce.component("app-link",Ie),Ce.component("app-explain",Ae),Ce.mount("#app"),F([...Ne]);export{Z as a,z as b,B as c,ye as r,we as u};

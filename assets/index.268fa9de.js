import{d as e,X as t,p as n,e as a,S as l,o,i as s,j as i,F as r,z as c,y as d,V as u,C as m,W as p,Y as h,Z as f,g as b,q as g,J as v,k,w as y,T as x,_ as w,l as C,$ as _,K as S,u as T,Q as V,P as I,s as M,r as P,n as B,a0 as L,f as z,a1 as A,D as H,a2 as q}from"./vendor.1e478acf.js";import{u as U,a as F,r as E,b as W,c as $}from"./index.af397df9.js";import{_ as j}from"./dio.e8119c58.js";const O=e("style",{state:()=>({"primary-color":"#35A7FF","primary-color-tinge":"#75d2de","primary-text-color":"#000000a6","primary-text-color-tinge":"#00000070"}),getters:{elMenuStyle:e=>({text:"#dcdcdc",background:"transparent",activeText:e["primary-color"]})},actions:{injectCssVarToRoot(){const e=document.documentElement.style,n=t(this.$state);Object.keys(n).forEach((t=>{e.setProperty("--"+t,n[t])}))},changePrimaryColor(e){document.documentElement.style.setProperty("--primary-color",e)}}});const R={name:"SettingItem",inheritAttrs:!1,props:{desc:{type:String,required:!0},modelValue:{type:[Boolean,String,Number]},comp:{type:String,default:"el-switch"},typeProp:{}},emits:["update:modelValue","change"],setup:(e,{emit:t})=>({value:l({get:()=>e.modelValue,set:e=>t("update:modelValue",e)})})};n("data-v-665989d0");const D={class:"setting-item"},N={style:{"font-size":"14px"}};a(),R.render=function(e,t,n,a,l,p){return o(),s("div",D,[i("span",N,r(n.desc),1),c(e.$slots,"default",{},(()=>[(o(),d(m(n.comp),u(e.$attrs,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e)}),null,16,["modelValue"]))]),{})])},R.__scopeId="data-v-665989d0";const X={name:"Settings",components:{SettingItem:R},setup(){const e=O(),t=U(),{showLogo:n,showTabBar:a,fixedHeader:l,showSettings:o,sUnfoldWidth:s,menuAccordion:i,toggleSettings:r}=p(t),c=h(e,"primary-color"),d=h(e,"changePrimaryColor");function u(e){27===e.keyCode&&(o.value=!1)}return f(o,(e=>{!0===e?document.addEventListener("keydown",u):document.removeEventListener("keydown",u)})),{changePrimaryColor:d,toggleSettings:r,menuAccordion:i,primaryColor:c,showSettings:o,sUnfoldWidth:s,fixedHeader:l,showTabBar:a,showLogo:n}}};n("data-v-46b5a5cc");const Y={key:0,class:"settings-panel-content"},G={class:"settings-panel-header"},J=i("span",null,"项目配置",-1),K=["textContent"],Q={class:"settings-panel-body"},Z=i("span",{style:{"font-size":"16px"}},"界面显示",-1),ee=i("span",{style:{"font-size":"16px"}},"界面功能",-1);a(),X.render=function(e,t,n,a,l,c){const u=b("el-divider"),m=b("setting-item"),p=b("el-color-picker");return o(),d(w,{to:"body"},[a.showSettings?(o(),s("div",{key:0,class:"mask-zIndex99",onClick:t[0]||(t[0]=g((e=>a.toggleSettings(!1)),["stop","prevent","self"]))})):v("",!0),k(x,{name:"show-transform"},{default:y((()=>[a.showSettings?(o(),s("div",Y,[i("div",G,[J,i("button",{onClick:t[1]||(t[1]=e=>a.toggleSettings(!1)),class:"close-btn",textContent:r("❌")},null,8,K)]),i("div",Q,[k(u,null,{default:y((()=>[Z])),_:1}),k(m,{modelValue:a.fixedHeader,"onUpdate:modelValue":t[2]||(t[2]=e=>a.fixedHeader=e),type:"el-switch",desc:"固定头部"},null,8,["modelValue"]),k(m,{modelValue:a.showLogo,"onUpdate:modelValue":t[3]||(t[3]=e=>a.showLogo=e),type:"el-switch",desc:"侧边栏Logo"},null,8,["modelValue"]),k(m,{modelValue:a.showTabBar,"onUpdate:modelValue":t[4]||(t[4]=e=>a.showTabBar=e),comp:"el-switch",desc:"标签栏导航"},null,8,["modelValue"]),k(m,{modelValue:a.sUnfoldWidth,"onUpdate:modelValue":t[5]||(t[5]=e=>a.sUnfoldWidth=e),step:5,min:160,max:260,comp:"el-input-number",desc:"侧边栏宽度",size:"mini"},null,8,["modelValue"]),k(m,{desc:"主题颜色"},{default:y((()=>[k(p,{modelValue:a.primaryColor,"onUpdate:modelValue":t[6]||(t[6]=e=>a.primaryColor=e),onChange:a.changePrimaryColor},null,8,["modelValue","onChange"])])),_:1}),k(u,null,{default:y((()=>[ee])),_:1}),k(m,{modelValue:a.menuAccordion,"onUpdate:modelValue":t[7]||(t[7]=e=>a.menuAccordion=e),comp:"el-switch",desc:"菜单手风琴模式"},null,8,["modelValue"])])])):v("",!0)])),_:1})])},X.__scopeId="data-v-46b5a5cc";const te={name:"SidebarLogo",props:{toPath:{default:"/"},isCollapse:{default:!1},textColor:{default:"#dcdcdc"},title:{default:"Admin-Template"},backgroundColor:{default:"#2f343d"}}};n("data-v-6fc7f7b2");const ne=i("img",{class:"shake",src:"/assets/logo2.c8486c4e.ico",alt:"logo"},null,-1);a(),te.render=function(e,t,n,a,l,s){const c=b("router-link");return o(),d(c,{to:n.toPath,class:"MutableLogo-wrapper",style:S({backgroundColor:n.backgroundColor,color:n.textColor})},{default:y((()=>[ne,C(i("h4",{style:{"margin-left":"6px"}},r(n.title),513),[[_,n.isCollapse]])])),_:1},8,["to","style"])},te.__scopeId="data-v-6fc7f7b2";const ae={name:"SidebarItem",props:{item:{type:Object,required:!0}},setup(e){const t=e.item,n=T();var a;return{realPath:(a=t.path,!/^(https?:|mailto:|tel:)/.test(a)&&t.name?n.resolve({name:t.name}).path:t.path)}}};ae.render=function(e,t,n,a,l,c){const u=b("app-icon"),m=b("sidebar-item",!0),p=b("el-sub-menu"),h=b("el-menu-item"),f=b("app-link");return n.item.children&&n.item.children.length>0?(o(),d(p,{key:0,index:n.item.path},{title:y((()=>[k(u,{icon:n.item.icon||"el-icon-s-grid"},null,8,["icon"]),i("span",null,r(n.item.title),1)])),default:y((()=>[(o(!0),s(I,null,V(n.item.children,(e=>(o(),d(m,{key:e.path,item:e},null,8,["item"])))),128))])),_:1},8,["index"])):(o(),d(f,{key:1,to:a.realPath},{default:y((()=>[k(h,{index:a.realPath},{title:y((()=>[M(r(n.item.title),1)])),default:y((()=>[k(u,{icon:n.item.icon||"el-icon-menu"},null,8,["icon"])])),_:1},8,["index"])])),_:1},8,["to"]))};const le={name:"Sidebar",components:{SidebarLogo:te,SidebarItem:ae},setup(){const{elMenuStyle:e}=p(O()),t=function(e){const t=[];function n(e){if(!e.meta&&e.children&&1===e.children.length){let t=e.children[0];if(t.meta&&t.meta.title)return"/"!==t.path[0]&&(t.path=e.path+"/"+t.path),t}return null}function a(e){return{title:e.meta.title,icon:e.meta.icon,path:e.path,name:e.name}}for(const l of e)if(!l.hidden){if("/ex-link"===l.path){t.push(l.children[0]);continue}let e=n(l);if(e){t.push(e);continue}!e&&l.meta&&l.meta.title&&t.push(l)}return function e(t){let n=[];for(const l of t)if(!l.hidden)if("/ex-link"===l.path)n.push(a(l.children[0]));else if(l.children&&l.children.length>0){let t=e(l.children),o=a(l);t.length>0&&(o.children=t),n.push(o)}else n.push(a(l));return n}(t)}(F().addRoutes),{showLogo:n,unfoldSidebar:a,sidebarWidth:l,menuAccordion:o}=p(U()),s=P(!1);return{menus:t,changeFlag:s,showLogo:n,elMenuStyle:e,sidebarWidth:l,unfoldSidebar:a,menuAccordion:o,changeBackground:function(){s.value=!s.value}}}};n("data-v-164d8448");const oe=M("换背景 ");a(),le.render=function(e,t,n,a,l,i){const r=b("sidebar-logo"),c=b("sidebar-item"),u=b("el-menu"),m=b("el-button");return o(),s("aside",{class:B(["sidebar-container",{"starry-sky":a.changeFlag}]),style:S({width:a.sidebarWidth})},[C(k(r,{backgroundColor:"transparent","is-collapse":a.unfoldSidebar},null,8,["is-collapse"]),[[_,a.showLogo]]),k(u,{"collapse-transition":!1,uniqueOpened:a.menuAccordion,collapse:!a.unfoldSidebar,"default-active":e.$route.path,"text-color":a.elMenuStyle.text,"active-text-color":a.elMenuStyle.activeText,"background-color":a.elMenuStyle.background},{default:y((()=>[(o(!0),s(I,null,V(a.menus,(e=>(o(),d(c,{key:a.menus.path,item:e},null,8,["item"])))),128))])),_:1},8,["uniqueOpened","collapse","default-active","text-color","active-text-color","background-color"]),k(m,{type:"primary",size:"mini",onClick:a.changeBackground},{default:y((()=>[oe])),_:1},8,["onClick"])],6)},le.__scopeId="data-v-164d8448";const se={name:"AppMain",setup:()=>({cachedViewNames:h(U(),"cachedViews")})};n("data-v-93400514");const ie={class:"app-main"};function re(){const e=E.currentRoute.value;U().removeCachedView(e),e.path.indexOf("/redirect")>-1||E.replace({path:"/redirect"+e.fullPath,query:e.query})}a(),se.render=function(e,t,n,a,l,i){const r=b("router-view");return o(),s("div",ie,[k(r,null,{default:y((({Component:e})=>[(o(),d(L,{include:a.cachedViewNames},[(o(),d(m(e)))],1032,["include"]))])),_:1})])},se.__scopeId="data-v-93400514";const ce={name:"TabBar",setup(){const{delTabBarItem:e,visitedViews:t}=function(){const{visitedViews:e}=p(U());return{visitedViews:e,delTabBarItem:function(t,n="self"){const a=e.value;let l=null;for(const[e,o]of a.entries())if(o.path===t.path){switch(n){case"self":l=a.splice(e,1);break;case"all":l=a.splice(0,a.length);break;case"left":l=a.splice(0,e);break;case"other":l=a.splice(0,a.length,o);break;case"right":l=a.splice(e+1,a.length);break;default:l=a.splice(e,1)}break}if(l&&l.some((e=>e.name===E.currentRoute.value.name))){const t=e.value.slice(-1)[0];t?E.push(t.fullPath):E.push("/")}}}}(),n=z({top:0,left:0,show:!1,selectedTab:null}),a=()=>n.show=!1;return f(h(n,"show"),(e=>{e?document.body.addEventListener("click",a):document.body.removeEventListener("click",a)})),{contextMenuProp:n,visitedViews:t,delTabBarItem:e,useRefresh:re,markedTab:(e,t)=>e.mark=t,openMenu:(e,t)=>{n.left=t.pageX,n.top=t.pageY-5,n.selectedTab=e,n.show=!0}}}};n("data-v-2c427c92");const de={class:"tabBar"},ue=["onMouseupCapture"],me=["onClick","onContextmenu","textContent"],pe=[i("i",{class:"el-icon-refresh"},null,-1)],he=i("hr",null,null,-1);a(),ce.render=function(e,t,n,a,l,c){const u=b("app-icon"),m=b("el-scrollbar");return o(),s("div",de,[k(m,{"view-style":"white-space:nowrap;display:flex;align-items: center;height: 100%;"},{default:y((()=>[(o(!0),s(I,null,V(a.visitedViews,(t=>(o(),s("span",{class:B(["tabBar-item",{active:e.$route.path===t.path,mark:t.mark}]),onMouseupCapture:g((e=>a.delTabBarItem(t)),["middle","stop"])},[i("span",{onClick:n=>e.$router.replace({path:t.path,query:t.query,fullPath:t.fullPath}),onContextmenu:g((e=>a.openMenu(t,e)),["prevent"]),textContent:r(t.title)},null,40,me),k(u,{onContextmenu:g((e=>a.openMenu(t,e)),["prevent"]),onClick:e=>a.delTabBarItem(t),class:"tab-close",icon:"el-icon-close",size:"12"},null,8,["onContextmenu","onClick"])],42,ue)))),256))])),_:1}),i("span",{class:"tabBar-refresh",onClick:t[0]||(t[0]=(...e)=>a.useRefresh&&a.useRefresh(...e)),title:"refresh"},pe),(o(),d(w,{to:"body"},[a.contextMenuProp.show?(o(),s("ul",{key:0,style:S({left:a.contextMenuProp.left+"px",top:a.contextMenuProp.top+"px"}),class:"tabBar-contextmenu"},[i("li",{onClick:t[1]||(t[1]=e=>a.delTabBarItem(a.contextMenuProp.selectedTab,"self"))}," 🤏关闭所选标签页 "),i("li",{onClick:t[2]||(t[2]=e=>a.delTabBarItem(a.contextMenuProp.selectedTab,"left"))}," 👈关闭左侧标签页 "),i("li",{onClick:t[3]||(t[3]=e=>a.delTabBarItem(a.contextMenuProp.selectedTab,"right"))}," 👉关闭右侧标签页 "),i("li",{onClick:t[4]||(t[4]=e=>a.delTabBarItem(a.contextMenuProp.selectedTab,"other"))}," 👐关闭其他标签页 "),i("li",{onClick:t[5]||(t[5]=e=>a.delTabBarItem(a.contextMenuProp.selectedTab,"all"))}," 💥关闭所有标签页 "),he,i("li",{onClick:t[6]||(t[6]=e=>a.markedTab(a.contextMenuProp.selectedTab,!0))}," ⏰设置重要提醒 "),i("li",{onClick:t[7]||(t[7]=e=>a.markedTab(a.contextMenuProp.selectedTab,!1))}," ❌移除重要提醒 ")],4)):v("",!0)]))])},ce.__scopeId="data-v-2c427c92";const fe={name:"AvatarMenu",props:{items:{type:Array,required:!0},avatar:{},nickname:{}}};n("data-v-65b464ec");const be=["src"];a(),fe.render=function(e,t,n,a,l,c){const u=b("el-dropdown-item"),m=b("app-link"),p=b("el-dropdown-menu"),h=b("el-dropdown");return o(),s(I,null,[k(h,{size:"medium"},{dropdown:y((()=>[k(p,null,{default:y((()=>[(o(!0),s(I,null,V(n.items,(e=>(o(),s(I,{key:e.title},[e.path&&!e.disabled?(o(),d(m,{key:0,to:e.path},{default:y((()=>[k(u,{divided:e.divided,textContent:r(e.title)},null,8,["divided","textContent"])])),_:2},1032,["to"])):(o(),d(u,{key:1,textContent:r(e.title),divided:e.divided,disabled:e.disabled,onClick:g((t=>"function"==typeof e.handle?e.handle():null),["prevent"])},null,8,["textContent","divided","disabled","onClick"]))],64)))),128))])),_:1})])),default:y((()=>[i("img",{class:"dropdown-avatar",src:n.avatar,alt:"avatar"},null,8,be)])),_:1}),C(i("p",{class:"menu-nickname"},r(n.nickname),513),[[_,n.nickname]])],64)},fe.__scopeId="data-v-65b464ec";const ge={name:"Breadcrumb",props:["list"]};ge.render=function(e,t,n,a,l,i){const c=b("el-breadcrumb-item"),u=b("el-breadcrumb");return o(),d(u,{class:"app-breadcrumb",separator:"/"},{default:y((()=>[(o(!0),s(I,null,V(n.list,(e=>(o(),d(c,{to:{name:e.name}},{default:y((()=>[M(r(e.meta.title),1)])),_:2},1032,["to"])))),256))])),_:1})},ge.__scopeId="data-v-3a7dc7f2";const ve={name:"Hamburger",props:{unfold:{type:Boolean,require:!0}},emits:["toggleClick"]};n("data-v-e06e8b58");const ke=[i("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1)];a(),ve.render=function(e,t,n,a,l,i){return o(),s("div",{class:"hamburger-container",onClick:t[0]||(t[0]=t=>e.$emit("toggleClick"))},[(o(),s("svg",{class:B([{unfold:n.unfold},"hamburger"]),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"},ke,2))])},ve.__scopeId="data-v-e06e8b58";const ye={name:"Navbar",components:{AvatarMenu:fe,Breadcrumb:ge,Hamburger:ve},setup(){const e=U(),{unfoldSidebar:t,breadcrumbList:n,toggleSidebar:a,toggleSettings:l}=p(e),o=A([{title:"个人中心",path:"/profile"},{title:"项目地址",path:"https://github.com/someGenki"},{title:"不可点击",path:"/",disabled:!0},{title:"退出登录",divided:!0,handle:()=>{alert("您选择了登出"),W(),location.reload()}}]);return{DioAvatar:j,toggleFull:function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},dropdownItems:o,unfoldSidebar:t,toggleSidebar:a,toggleSettings:l,breadcrumbList:n}}};n("data-v-1447f04c");const xe={class:"navbar",role:"navigation"},we={class:"right-menu-area"},Ce={class:"right-menu-action"},_e=i("p",null,"TODO 消息通知",-1);a(),ye.render=function(e,t,n,a,l,r){const c=b("Hamburger"),d=b("breadcrumb"),u=b("app-icon"),m=b("el-badge"),p=b("el-popover"),h=b("avatar-menu");return o(),s("div",xe,[k(c,{unfold:a.unfoldSidebar,onToggleClick:a.toggleSidebar},null,8,["unfold","onToggleClick"]),k(d,{list:a.breadcrumbList},null,8,["list"]),i("div",we,[k(u,{class:"right-menu-action",icon:"el-icon-search"}),k(u,{onClick:a.toggleFull,class:"right-menu-action",icon:"el-icon-full-screen"},null,8,["onClick"]),k(p,{trigger:"click"},{reference:y((()=>[i("span",Ce,[k(m,{"is-dot":""},{default:y((()=>[k(u,{icon:"el-icon-bell"})])),_:1})])])),default:y((()=>[_e])),_:1}),k(h,{nickname:"管理员",items:a.dropdownItems,avatar:a.DioAvatar},null,8,["items","avatar"]),k(u,{size:"20",icon:"el-icon-setting",class:"right-menu-action",onClick:t[0]||(t[0]=g((e=>a.toggleSettings(!0)),["stop"]))})])])},ye.__scopeId="data-v-1447f04c";n("data-v-34b9b4da");const Se={class:"app-wrapper"},Te={class:"main-container"};a();const Ve={setup(e){H((e=>({"09bfd7db":q(f),"997ce33c":q(h)})));const t=O(),n=U(),{isMobile:a,showTabBar:l,fixedHeader:r,toggleSidebar:c,unfoldSidebar:u,checkIsMobile:m,mainPaddingLeft:h,mainPaddingTopOnFixed:f}=p(n);return n.$subscribe(((e,t)=>{$(["showLogo","showTabBar","fixedHeader","sUnfoldWidth","menuAccordion","unfoldSidebar"],t)})),window.addEventListener("resize",function(e,t=200){let n=null,a=null;return l=>{let o=Date.now();n&&o<n+t?(clearTimeout(a),a=setTimeout((()=>{e.call(this,l),n=o}),t)):(e.call(this,l),n=o)}}(m.value,200)),t.injectCssVarToRoot(),(e,t)=>(o(),s("div",Se,[k(q(le)),q(a)&&q(u)?(o(),s("div",{key:0,class:"mask-zIndex99",onClick:t[0]||(t[0]=g((e=>q(c)(!1)),["self","stop"]))})):v("",!0),i("div",Te,[i("header",{class:B({"fixed-header":q(r)})},[k(q(ye)),q(l)?(o(),d(q(ce),{key:0})):v("",!0)],2),k(q(se))]),k(q(X))]))},__scopeId:"data-v-34b9b4da"};export{Ve as default};
